# hrf_opt parameter definitions.

# Part of hrf_opt library
# Copyright (C) 2018  Marian Schneider
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.


# Volume TR of input data [s]:
varTr = 2.0

# Number of fMRI volumes (across all runs):
varNumVol = 1232

# Factor by which time courses and HRF will be upsampled for the convolutions
# Higher number might yield more accurate reults but also takes up more RAM.
varTmpOvsmpl = 20.

# Extent of temporal smoothing for fMRI data and pRF time course models
# [standard deviation of the Gaussian kernel, in seconds]:
# same temporal smoothing will be applied to pRF model time courses
varSdSmthTmp = 0.0


# Minimum delay for the peak of the hrf function:
varPkDelMin = 2.0

# Maximum delay for the peak of the hrf function:
varPkDelMax = 10.0

# Minimum delay for the undershoot of the hrf function:
varUndDelMin = 8.0

# Maximum delay for the undershoot of the hrf function:
varUndDelMax = 20.0

# Step size for peak and undershoot delay of the hrf function:
varDelStp = 1.0

# Minimum dispersion for the peak of the hrf function:
varPkDspMin = 0.1

# Maximum dispersion for the peak of the hrf function:
varPkDspMax = 3.5

# Minimum dispersion for the undershoot of the hrf function:
varUndDspMin = 0.1

# Maximum dispersion for the undershoot of the hrf function:
varUndDspMax = 3.5

# Step size for peak and undershoot dispersion of the hrf function:
varDspStp = 0.2

# Minimum peak to undershoot ratio:
varPkUndRatMin = 1.0

# Maximum peak to undershoot ratio:
varPkUndRatMax = 10.0

# Step size for teh peak to undershoot ratio
varPkUndRatStp = 1.0

# Number of processes to run in parallel:
varPar = 10

# Path of functional data (needs to have same number of volumes as there are
# PNGs):
lstPathNiiFunc = ['~/fnc01.nii', '~/fnc02.nii', '~/fnc03.nii', '~/fnc04.nii']

# Path of mask (to restrict pRF model finding):
strPathNiiMask = '~/mask.nii'

# Output basename:
strPathOut = '~/pRF_results/pRF_results'

# Which version to use for pRF finding. 'numpy' or 'cython' for pRF finding on
# CPU, 'gpu' for using GPU.
strVersion = 'cython'

# Which hrf functions should be used?
# 1: only canonical, 2: can and temp deriv, 3: can, temp and spat deriv
# Note: Currently only option 1 (canonical hrf) is supported
switchHrfSet = 1

# Should model fitting be based on k-fold cross-validation?
# if desired, it is recommended to set this equal to the number of runs
# if not, set to 1 and no cross-validation will be implemented
# currently only supported for CPU, set to 1 if using GPU
varNumXval = 4

# Create hrf time course models?
lgcCrteMdl = True

# Path to npy file with pRF time course models (to save or load). Without file
# extension.
strPathMdl = '~/pRF_results/pRF_model_tc'
